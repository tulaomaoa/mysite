define(function(require){var a=require("./base.js"),c=[],h=0,g=function(c){if("code"!=OP_CONFIG.page){var g=!1;"ceping"!=OP_CONFIG.page&&(g=$(".video-panel").hasClass("closed")),".video-panel"==c||".ceping-panel"==c?g?w.hide():($("#courseRight").width(0!=h?h+"px":"414px").data("minw",414),h=0,a.emit("drager/reset")):(0==h?(h=$("#courseRight").width(),$("#courseRight").width("500px").data("minw",500)):g?($("#courseRight").width("500px").data("minw",500),w.reset()):$("#courseRight").data("minw",500),a.emit("drager/reset"))}},v=function(a,c){var h=".video-panel";return"ceping"==OP_CONFIG.page&&(h=".ceping-panel"),a=a||h,$(a).hasClass("current")?void(c&&($(a).removeClass("current").hide(),"code"==OP_CONFIG.page&&$(".course-right-nano").hide(),$(h).addClass("current").show(),g(h))):(g(a),".video-panel"==a&&"code"==OP_CONFIG.page?$(".course-right-nano").hide():$(".course-right-nano").show(),$(".c-panel.current").removeClass("current").hide(),$(a)[0]&&(".video-panel"!==a?$(".result-triggers").css("z-index",0):$(".result-triggers").css("z-index",991),$(a).addClass("current").show()),void $(".course-right-nano").nanoScroller({contentClass:"nano-right-content",sliderClass:"nano-right-slider"}))},w={hide:function(){0==h&&(h=$("#courseRight").width()),$("#courseRight").width("60px").data("minw",60),$(".nano-right-slider").parent().css("visibility","hidden"),$(".video-panel").addClass("closed"),$(".video-panel-close, .video-panel>.panel-container, #courseDrag").hide(),a.emit("drager/reset")},show:function(){$("#courseRight").width("414px").data("minw",414),h=0,$(".video-panel").removeClass("closed"),$(".video-panel-close, .video-panel>.panel-container, #courseDrag").show(),$(".nano-right-slider").parent().css("visibility","visible"),a.emit("drager/reset"),$(".course-right-nano").nanoScroller({contentClass:"nano-right-content",sliderClass:"nano-right-slider"})},reset:function(){$(".nano-right-slider").parent().css("visibility","visible"),$("#courseDrag").show()}};$("#courseSidebar").on("click",".opencomment",function(){$("body").append('<a href="javascript:;" class="js-comment-btn js-comment-btn-zw"></a>'),$(".js-comment-btn").click(),$(".js-comment-btn-zw").remove()}),$("#courseSidebar").on("click",".openpanel",function(){var a=$(this).data("panel");c.indexOf(a)<0&&(c.push(a),"qa"==a?require("./qaPanel.js"):"note"==a&&require("./notePanel.js")),v("."+a+"-panel",!0)}),$("#courseRight").on("click",".panel-close",function(){v()}),$("#courseRight").on("click",".video-panel-close",w.hide),$("#courseRight").on("click",".video-panel.closed",w.show),$("#js-code-container").on("click",".panel-close",function(){v()})});