define(function(require,exports){function c(c){var v=['<div class="pic-viewer J-pic-viewer">','<div class="pic-viewer-wrap">','<div class="pic-viewer-inner loading J-viewer-inner">','<img src="',c,'" />',"</div>","</div>",'<span class="icon-close J-close-btn"></span>',"</div>"];return v.join("")}function v(c){return{viewerInner:c.find(".J-viewer-inner")}}function a(){return $(".J-pic-viewer")}function w(c){var v=c||a();v.remove()}function J(v,w){b.append(c(v));var J=a();w&&w(J)}function g(){w($(this)),$(this).off("click")}function h(c){var a=v(c);a.viewerInner.find("img").on("load error",function(){a.viewerInner.removeClass("loading")}),c.on("click",function(){g.call(this)})}function I(c){J(c,function(c){h(c)})}var b=$(document.body);exports.create=I});